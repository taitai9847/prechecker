# AI駆動開発 共通ガイドライン
日本語で返答してください。

## 開発の基本理念
- 動くコードを書くだけでなく、品質・保守性・安全性を常に意識する
- 問題を見つけたら放置せず、必ず対処または明示的に記録する
- 実装時にコードの数が少なくなるようにしてください。

## エラーハンドリングの原則
- 関連が薄く見えるエラーでも必ず解決する
- エラーの抑制ではなく、根本原因を修正すること
- 早期にエラーを検出し、明確なエラーメッセージを提供すること
- エラーケースも必ずテストでカバーすること

## コード品質の基準
- DRY原則：重複を避け、単一の信頼できる情報源を維持すること
- 意味のある変数名・関数名で意図を明確に伝えること
- プロジェクト全体で一貫した Rust 言語が推奨しているコーディングスタイルを維持すること
- 小さな問題も放置せず、発見次第修正（Broken Windows理論）

## 保守性とリファクタリング
- 機能追加と同時に既存コードの改善を検討
- 大規模な変更は小さなステップに分割すること
- 使用されていないコードは積極的に削除すること
- 依存関係は定期的に更新（セキュリティと互換性のため）すること
- 技術的負債は明示的にコメントやドキュメントに記録すること

## セキュリティの考え方
- APIキー、パスワード等は環境変数で管理（ハードコード禁止）すること
- 必要最小限の権限で動作（最小権限の原則）すること
- 不要な依存関係をしないこと

## パフォーマンスの意識
- 推測ではなく計測に基づいて最適化すること
- 初期段階から拡張性を考慮すること
- 必要になるまでリソースの読み込みを遅延すること
- キャッシュの有効期限と無効化戦略を明確にすること
- N+1問題やオーバーフェッチを避けること

## 信頼性の確保
- タイムアウト処理を適切に設定すること
- リトライ機構の実装（指数バックオフを考慮）すること
- 適切なログとメトリクスで可観測性を確保

## プロジェクトコンテキストの理解
- ビジネス要件と技術要件のバランスを取る
- 現在のフェーズで本当に必要な品質レベルを判断
- 時間制約がある場合でも、最低限の品質基準を維持
- チーム全体の技術レベルに合わせた実装選択

## デバッグのベストプラクティス
- 問題を確実に再現できる手順を確立すること
- 二分探索で問題の範囲を絞り込むこと
- 最近の変更から調査を開始こと
- デバッガー、プロファイラー等の適切なツールを活用こと

## 依存関係の管理
- 本当に必要な依存関係のみを追加すること
- 新しい依存関係追加前にライセンス、サイズ、メンテナンス状況を確認
- セキュリティパッチとバグ修正のため定期的に更新

## ドキュメントの基準
- READMEにプロジェクトの概要、セットアップ、使用方法を明確に記載
- ドキュメントをコードと同期して更新
- 実例を示すことを優先
- 重要な設計判断はADR (Architecture Decision Records)で記録
